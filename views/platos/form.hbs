{{#if errors}}
  <div class="alert alert-danger" role="alert">
    review the form data
  </div>
{{/if}}

{{#if book.isNew}}
  <form action="/books" method="POST">
{{else}}
  <form action="/books/{{book._id}}" method="POST">
{{/if}}

  <div class="form-group">
    <label>Plate Title</label>
    <input type="text" class="form-control {{#if errors.title }}is-invalid{{/if}}" name="title" value="{{plato.title}}"
      placeholder="Enter plate title">

    {{#if errors.title }}
      <div class="invalid-feedback">
        {{errors.title}}
      </div>
    {{/if}}
  </div>

  <div class="form-group">
    <label>Plate Image</label>
    <input type="text" class="form-control {{#if errors.thumbnailUrl }}is-invalid{{/if}}"
      name="image" value="{{plato.image}}">

    {{#if errors.image }}
      <div class="invalid-feedback">
        {{errors.image}}
      </div>
    {{/if}}
  </div>

  <div class="form-group">
    <label>Description</label>
    <textarea rows="10" class="form-control {{#if errors.description }}is-invalid{{/if}}" name="description"
      >{{plato.description}}</textarea>
    
    {{#if errors.description }}
      <div class="invalid-feedback">
        {{errors.description}}
      </div>
    {{/if}}
  </div>

    <div class="form-group">
    <label>Price</label>
    <input type="text" class="form-control {{#if errors.price }}is-invalid{{/if}}"
      name="price" value="{{plato.price}}">

    {{#if errors.image }}
      <div class="invalid-feedback">
        {{errors.image}}
      </div>
    {{/if}}
  </div>

  <div class="form-group">
    <label>Main Category</label>

    <select name="mainCategory" class="form-control">
      {{#each categories as |category|}}
        <option value="{{category}}"
        {{#isMainCategory ../book category }}selected{{/isMainCategory}}>
          {{category}}
        </option>
      {{/each}} 
    </select>
  </div>

  <div class="mb-3">
    <label>Categories</label>

    {{#each categories as |category|}}
      <div class="form-check">
        <input id="category-{{category}}" name="categories[]" class="form-check-input"
          type="checkbox" value="{{category}}" {{#hasCategory ../book category }}checked="checked"{{/hasCategory}}>
        <label for="category-{{category}}" class="form-check-label">{{category}}</label>
      </div>
    {{/each}}
  </div>

  <div class="d-flex">
    <button type="submit" class="btn btn-primary mr-3">Submit</button>
    <a class="btn btn-secondary" href="/books">Back</a>
  </div>
</form>
